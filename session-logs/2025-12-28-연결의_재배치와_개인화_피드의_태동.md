# 2025-12-28-연결의*재배치와*개인화*피드의*태동

_(부제: 2025-12-28, 커뮤니티 구조 개편 및 개인화 피드 구현)_

## 발단: 광장형 게시판의 한계와 정적인 공간

가보자고 프로젝트의 커뮤니티는 초기 단계에서 단순한 통합 게시판의 형태를 띠고 있었다. 레오는 이 익숙하지만 정적인 구조에 의문을 제기했다. 사용자가 남긴 댓글에 대한 반응이나, 자신이 관심을 표한 축제에 대한 새로운 소식을 능동적으로 전달하는 공간이 필요하다고 판단한 것이다. 또한, 이벤트 상세 페이지에서 축제 종료 후의 리뷰보다 축제 시작 전의 기대감과 응원이 더 큰 가치를 지닌다는 점에 주목했다.

## 전개: 계층적 대화와 개인화된 흐름의 설계

안티그래비티는 게시판 중심의 사고에서 사용자 중심의 정보 흐름으로 전환하기 위한 설계에 착수했다. 먼저 기존의 단순 댓글 시스템을 보완하여 부모-자식 관계를 가진 계층형 댓글(Threaded Comments) 구조를 백엔드와 프론트엔드에 구현했다. 동시에 서비스 전반의 편의성을 높이기 위해 하단 탭에 있던 '관심(Likes)' 버튼을 상단 헤더로 전격 이동시키는 UI 재배치를 단행했다. 이는 하단 바를 핵심 탐색 채널로 정제하고, 개인화된 즐겨찾기는 상시 접근 가능한 위치로 격상시키는 전략적 선택이었다.

## 위기: 기술적 충돌과 침묵하는 데이터

해결 과정은 평탄하지 않았다. 다중 관계를 지원하기 위해 댓글 모델을 폴리모픽(Polymorphic) 구조로 전환하는 과정에서 SQLite 데이터베이스의 한계와 부딪혔다. 컬럼 추가와 외래 키 제약 조건이 엉키며 백엔드는 잠시 침묵하거나 500 에러를 뱉어냈다. 또한, 데이터 수집 서비스가 활발히 작동함에도 불구하고 메인 페이지에 축제가 전혀 노출되지 않는 '공백 현상'이 발생했다. 이는 새로 수집된 데이터가 '승인 대기(Pending)' 상태로 묶여 관리자 승인 없이는 노출되지 않도록 설계된 데이터 무결성 로직 때문이었다.

## 절정: 응원과 개인화된 피드의 완성

안티그래비티는 데이터베이스 마이그레이션을 수동으로 보정하여 폴리모픽 구조를 안착시켰다. 이어서 모든 수집 데이터를 일괄 승인 처리하여 서비스에 생명력을 불어넣었다. 레오의 기획안대로 커뮤니티 페이지는 무분별한 글 목록 대신, 사용자가 찜한 이벤트의 새 소식과 본인의 댓글에 달린 답글만을 모아 보여주는 '마이 피드'로 재구성되었다. 이벤트 상세 페이지에는 '✨ 기대돼요'와 '🎫 티켓인증'이라는 두 종류의 응원 기능을 추가하여 사용자들이 행사의 기대감을 공유하는 활발한 전초기지를 구축했다.

## 결말: 축제의 전야를 담아내는 개인화된 그릇

작업이 마무리되자, 가보자고는 단순한 정보 제공 플랫폼을 넘어 사용자의 관심사를 중심으로 반응하는 유동적인 서비스로 변모했다. '마이 피드'를 통해 사용자는 파편화된 게시글 사이를 헤매는 대신 자신과 연결된 가치 있는 정보만을 마주하게 되었다. 축제 전의 설렘을 공유하는 '기대평' 시스템은 플랫폼에 역동적인 상호작용을 더했으며, 정제된 UI는 이 복잡한 정보들을 한결 가볍고 세련되게 전달했다. 축제는 시작되기 전부터 가보자고 안에서 이미 열리고 있었다.

---

### 🛠 기술적 각주 (Technical Summary)

- **수정된 파일 (Modified Files)**:
  - `app/models/comment.rb`: Polymorphic association 및 자기 참조 구조 구현
  - `app/controllers/feeds_controller.rb`: 사용자 맞춤형 피드 데이터 집계 로직 추가
  - `src/app/community/page.tsx`: 광장형 게시판을 1:1 개인화 피드로 전면 개편
  - `src/app/events/[id]/page.tsx`: '기대평 & 응원' 섹션 구축 및 UI 간격 최적화
- **주요 기술 (Key Tech Stack)**:
  - **Polymorphic Association**: 댓글을 Post뿐만 아니라 Event 모델에도 유연하게 결합
  - **Activity-based Filtering**: 사용자의 Like 및 Comment 이력을 기반으로 한 콘텐츠 필터링
  - **Tailwind CSS (Refinement)**: 히어로 섹션의 시각적 위계 및 Typography 고도화
- **핵심 기능 (Key Features)**:
  - **Personalized My Feed**: 찜한 축제의 소식과 답글을 모아주는 개인화 타임라인
  - **Pre-event Cheers**: '기대돼요'와 '티켓인증'을 통한 이벤트 전 참여 유도
  - **UI Re-layout**: 관심 버튼의 헤더 이동 및 콘텐츠 간격(Air) 확보
